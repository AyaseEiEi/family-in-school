<!DOCTYPE html>
<html lang="en">
<head>
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#7fffd4">
<meta charset="UTF-8">
<title>Family in School</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
* { box-sizing: border-box; }

body {
  margin: 0;
  font-family: 'Segoe UI', sans-serif;
  background: radial-gradient(circle at top, #0f2027, #050505);
  color: #fff;
  text-align: center;
  overflow-x: hidden;
}

canvas {
  position: fixed;
  inset: 0;
  z-index: 0;
}

.page {
  position: relative;
  z-index: 1;
  display: none;
  min-height: 100vh;
  padding: 40px 20px;
  animation: pageIn 1s ease;
}

.active { display: block; }

h1, h2 { color: #7fffd4; }

.school {
  font-size: 14px;
  opacity: .7;
  margin-bottom: 20px;
}

button {
  position: relative;
  padding: 14px 28px;
  border-radius: 40px;
  border: none;
  background: linear-gradient(135deg,#7fffd4,#00c9ff);
  color: #000;
  font-size: 16px;
  cursor: pointer;
  margin: 10px;
  box-shadow: 0 0 20px rgba(127,255,212,.5);
  overflow: hidden;
  transition: transform .2s;
}

button:active { transform: scale(.95); }

button::after {
  content:"";
  position:absolute;
  inset:0;
  background:rgba(255,255,255,.3);
  opacity:0;
  transition:.3s;
}

button:active::after { opacity:1; }

textarea {
  width:90%;
  max-width:500px;
  height:100px;
  border-radius:14px;
  border:none;
  padding:12px;
  font-size:15px;
}

.list { max-width:360px; margin:auto; text-align:left; line-height:1.9; }

img {
  max-width:90%;
  border-radius:18px;
  margin-top:20px;
  box-shadow:0 0 30px rgba(127,255,212,.4);
}

.flash {
  animation: flash .4s;
}

@keyframes pageIn {
  from {opacity:0; transform:translateY(40px) scale(.98); filter:blur(6px);}
  to {opacity:1; transform:none; filter:none;}
}

@keyframes flash {
  from {filter:brightness(2);}
  to {filter:brightness(1);}
}
/* === IMAGE FRAME LOCK === */
.img-box{
  width: 90%;
  max-width: 420px;
  aspect-ratio: 3 / 4;
  margin: 20px auto;
  overflow: hidden;
  border-radius: 18px;
  box-shadow: 0 0 30px rgba(127,255,212,.4);
}

.img-box img{
  width: 100%;
  height: 100%;
  object-fit: cover;
}

</style>
</head>
<body>

<canvas id="dust"></canvas>

<audio id="bgm" loop>
  <source src="rak-nai-wan-la.mp3">
</audio>

<!-- PAGE 1 -->
<div class="page active" id="p1">
  <h1>Family in School</h1>
  <div class="school">
    Tharumprachasermwit School<br>
    ‡∏£‡∏∏‡πà‡∏ô 56 | ‡∏õ‡∏µ‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤ 2569
  </div>
  <p>Some people become memories‚Ä¶</p>
  <button onclick="start()">Open</button>
</div>

<!-- PAGE 2 -->
<div class="page" id="p2">
  <h2>Our Family</h2>
  <div class="list" id="familyList"></div>
  <button onclick="go(3)">Next</button>
</div>

<!-- PAGE 3 -->
<div class="page" id="p3">
  <h2>From M.6 to M.4</h2>
  <p style="max-width:720px;margin:auto">
    Dear Juniors,<br><br>
    As we reach the end of our high school journey,
    we want you to know that every shared moment truly mattered.
    Even if time and distance separate us,
    memories will always stay quietly in our hearts.
    <br><br>
    With love and care,<br>
    Your M.6 Seniors üíô
  </p>
  <button onclick="go(4)">Next</button>
</div>


<!-- PAGE 3 -->
<div class="page" id="p4">
  <h2>Question 1</h2>
  <p>Do you think distance can erase memories?</p>
  <button onclick="go(5)">No</button>
</div>

<!-- PAGE 4 -->
<div class="page" id="p5">
  <h2>Question 2</h2>
  <p>Is there a moment you want to keep forever?</p>
  <button onclick="go(6)">Yes</button>
</div>

<!-- PAGE 5 -->
<div class="page" id="p6">
  <h2>Question 3</h2>
  <p>Will you really never forget us?</p>
  <button onclick="go(7)">Never Forget</button>
</div>

<!-- PAGE 6 -->
<div class="page" id="p7">
  <h2>Leave a Message</h2>
  <textarea id="msg" placeholder="Write something from your heart..."></textarea><br>
  <button onclick="saveMessage()">Save</button>
</div>

<!-- PAGE 7 -->
<div class="page" id="p8">
  <h2>Our Memories</h2>
  <div id="messages"></div>
  <div class="img-box">
  <img id="slide" src="img1.jpg">
</div>
  <button onclick="go(9)">Next</button>
</div>


<!-- PAGE 8 -->
<div class="page" id="p9">
  <h2>M.6 Seniors and M.4 Juniors</h2>
  <div class="list">
    ‚Ä¢ Phuwadin Chuenarrom<br>
    ‚Ä¢ Thakdanai Nopmak<br>
    ‚Ä¢ Chesadaphong Baramisathit<br>
    ‚Ä¢ Nichakan Taosomta<br>
    ‚Ä¢ Manantita Namsom<br>
    ‚Ä¢ Suwicha Maneesri<br>
    ‚Ä¢ Khwanpatsra SoiChit<br>
    ‚Ä¢ Kannika Tamlena<br>
    ‚Ä¢ Sureephorn Tanan<br>
    ‚Ä¢ Suchawadee Chodee<br>
    ‚Ä¢ Kanyacha Sathipphati
  </div>

<script>
/* DATA */
const family = [
 "Phuwadin Chuenarrom ‚Äî Brother",
 "Thakdanai Nopmak ‚Äî Brother",
 "Chesadaphong Baramisathit",
 "Nichakan Taosomta ‚Äî Sister",
 "Manantita Namsom ‚Äî Sister",
 "Suwicha Maneesri ‚Äî Sister",
 "Khwanpatsra SoiChit ‚Äî Sister",
 "Kannika Tamlena ‚Äî Sister",
 "Sureephorn Tanan ‚Äî Sister",
 "Suchawadee Chodee ‚Äî Sister",
 "Kanyacha Sathipphati ‚Äî Sister"
];

let images = ["img1.jpg","img2.jpg","img3.jpg","img4.jpg","img5.jpg","img6.jpg","img7.jpg","img8.jpg","img9.jpg"];
let shuffled = [];

function getRandomImage(){
  if(shuffled.length === 0){
    shuffled = [...images].sort(() => Math.random() - 0.5);
  }
  return shuffled.pop();
}

/* START */
function start(){
  bgm.volume=.4; bgm.play();
  familyList.innerHTML = family.join("<br>");
  go(2);
}

/* NAV */
function go(n){
  document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
  document.getElementById('p'+n).classList.add('active');
}

/* MESSAGE */
function saveMessage(){
  const arr = JSON.parse(localStorage.getItem("msgs")||"[]");
  arr.push(msg.value);
  localStorage.setItem("msgs",JSON.stringify(arr));
  showMessages();
  go(7);
}

function showMessages(){
  const arr = JSON.parse(localStorage.getItem("msgs")||"[]");
  messages.innerHTML = arr.map(m=>"üí¨ "+m).join("<br><br>");
}
function clearMessages(){
  localStorage.removeItem("msgs");
  messages.innerHTML = "";
}




/* SLIDESHOW */
setInterval(()=>{
  const img = document.getElementById("slide");
  if(!img) return;

  img.src = getRandomImage();
  img.classList.add("flash");
  setTimeout(()=>img.classList.remove("flash"),400);
},4000);

/* PARTICLES */
const c=dust,ctx=c.getContext("2d");
c.width=innerWidth;c.height=innerHeight;
const ps=[...Array(80)].map(()=>({x:Math.random()*c.width,y:Math.random()*c.height,r:Math.random()*2+1,v:Math.random()*.3+.1}));
(function anim(){
 ctx.clearRect(0,0,c.width,c.height);
 ps.forEach(p=>{
  p.y-=p.v; if(p.y<0)p.y=c.height;
  ctx.fillStyle="rgba(127,255,212,.6)";
  ctx.beginPath();ctx.arc(p.x,p.y,p.r,0,Math.PI*2);ctx.fill();
 });
 requestAnimationFrame(anim);
})();
</script>
</body>
</html>
